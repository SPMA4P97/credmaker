<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Certificate Generator</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  <style>
    body {
      font-family: 'Georgia', serif;
      background: #f4f4f4;
      padding: 20px;
    }

    .form-section {
      max-width: 700px;
      margin-bottom: 40px;
    }

    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }

    input, textarea {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
    }

    button {
      margin-top: 20px;
      padding: 10px 20px;
    }

    #certificate {
      width: 1120px;
      height: 792px;
      background: white;
      border: 2px solid #333;
      padding: 60px 80px;
      margin-bottom: 40px;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
      box-sizing: border-box;
      position: relative;
    }

    .cert-header {
      background: #1a237e;
      color: white;
      padding: 20px;
      font-size: 30px;
      font-weight: bold;
      text-align: center;
      border-radius: 6px;
      margin-bottom: 20px;
    }

    .cert-subheader {
      text-align: center;
      font-size: 16px;
      color: #444;
      margin-bottom: 40px;
    }

    .cert-body {
      text-align: center;
      margin: 0 auto;
      max-width: 900px;
    }

    .cert-body h1 {
      font-size: 36px;
      margin-bottom: 10px;
    }

    .cert-role {
      font-size: 28px;
      font-weight: bold;
      margin: 25px 0 10px 0;
    }

    .cert-desc {
      font-size: 18px;
      margin: 10px 0;
      font-style: italic;
      white-space: pre-wrap;
    }

    .cert-volumes {
      font-size: 17px;
      margin: 15px 0;
    }

    .cert-footer {
      text-align: center;
      margin-top: 50px;
      font-size: 16px;
    }

    .issue-date-box {
      display: inline-block;
      margin-top: 40px;
      padding: 10px 24px;
      border: 2px solid #1a237e;
      border-radius: 6px;
      font-size: 16px;
      font-weight: bold;
      color: #1a237e;
    }
  </style>
</head>
<body>

  <h2>Credential Generator</h2>

  <div class="form-section">
    <label>Issuing Organization:</label>
    <input type="text" id="orgInput" placeholder="e.g., Journal of Emerging Sport Studies" oninput="updateCertificate()" />

    <label>Recipient Name:</label>
    <input type="text" id="nameInput" placeholder="e.g., Jane Doe" oninput="updateCertificate()" />

    <label>Role:</label>
    <input type="text" id="roleInput" placeholder="e.g., Peer Reviewer" oninput="updateCertificate()" />

    <label>Issue Date:</label>
    <input type="text" id="dateInput" placeholder="e.g., June 2025" oninput="updateCertificate()" />

    <label>Volume(s) <small>(optional)</small>:</label>
    <input type="text" id="volumeInput" placeholder="e.g., Volume 1, Volume 2, Volume 12" oninput="updateCertificate()" />

    <label>Description:</label>
    <textarea rows="4" id="descInput" placeholder="e.g., served as Peer Reviewer and completed in a timely manner" oninput="updateCertificate()"></textarea>

    <button onclick="downloadCertificate()">Download as PDF</button>
  </div>

  <div id="certificate">
    <div class="cert-header" id="certOrg">[Issuing Organization]</div>
    <div class="cert-subheader">Digital Credential Certificate</div>

    <div class="cert-body">
      <div style="margin-bottom: 20px;">This is to certify that</div>
      <h1 id="certName">[Recipient Name]</h1>
      <div style="margin-top: 20px;">has successfully served as</div>
      <div class="cert-role" id="certRole">[Role]</div>
      <div class="cert-desc" id="certDesc"></div>
      <div class="cert-volumes" id="certVolume" style="display: none;"></div>
      <div class="issue-date-box" id="certDate">[Issue Date]</div>
    </div>
  </div>

  <script>
    function updateCertificate() {
      const org = document.getElementById('orgInput').value || '[Issuing Organization]';
      const name = document.getElementById('nameInput').value || '[Recipient Name]';
      const role = document.getElementById('roleInput').value || '[Role]';
      const date = document.getElementById('dateInput').value || '[Issue Date]';
      const volume = document.getElementById('volumeInput').value.trim();
      const desc = document.getElementById('descInput').value;

      document.getElementById('certOrg').innerText = org;
      document.getElementById('certName').innerText = name;
      document.getElementById('certRole').innerText = role;
      document.getElementById('certDate').innerText = date;
      document.getElementById('certDesc').innerText = desc;

      const volEl = document.getElementById('certVolume');
      if (volume) {
        volEl.style.display = 'block';
        volEl.innerText = `Contributing to: ${volume}`;
      } else {
        volEl.style.display = 'none';
        volEl.innerText = '';
      }
    }

    async function downloadCertificate() {
      const cert = document.getElementById('certificate');
      const canvas = await html2canvas(cert, { scale: 2 });
      const imgData = canvas.toDataURL('image/png');
      const { jsPDF } = window.jspdf;
      const pdf = new jsPDF('landscape', 'pt', [cert.offsetWidth, cert.offsetHeight]);
      pdf.addImage(imgData, 'PNG', 0, 0, cert.offsetWidth, cert.offsetHeight);
      pdf.save('certificate.pdf');
    }

    updateCertificate();
  </script>

</body>
</html>
